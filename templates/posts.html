<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/posts.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <title>Posts</title>
</head>
<body onload="onLoadRun();">
    <div class="postHistory" id="postHistory">
    </div>
    <div class="postHistorySeparator"></div>

    <div id="postForm">
        <div class="postInput">
            <input class="inputTitle" type="text" name="Title" id="Title" placeholder="Title: "><br>
            <div class="formLine"></div>
            <textarea class="inputDesc" type="text" name="Description" id="Description" placeholder="Description: " ></textarea>
            <div class="formLine"></div>
            <input type="file" name="image" id="image">
        </div>
        <input class="sendButton" type="submit" value="Send" onclick="postData()">
    </div>
    <button class="backButton" onclick="back()" >Back</button>
    <button class="logoutButton" onclick="logout()">Log Out</button>
<script src="/static/js/posts.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
function postData() {
    const title = document.getElementById("Title").value;
    const description = document.getElementById("Description").value;
    const image = document.getElementById("image").files[0];
    const formData = new FormData();
    formData.append('title', title);
    formData.append('description', description);
    formData.append('image', image);
    axios.post('/createPost', formData)
        .then(response => console.log(response.data))
        .catch(error => console.error(error));
}
</script>
</body>
</html>
